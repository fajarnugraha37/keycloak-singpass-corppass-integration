import"../modulepreload-polyfill-B5Qt9EMX-mgz62uv2.js";import"../vendor-htmx-hCWdS4WT-mgz62uup.js";/* empty css                         */import{s as d,h as m,c as g}from"../util-Bgifhk2q-mgz62uv8.js";async function f(){const e=await fetch("/ids/auth/refresh",{method:"POST",credentials:"include"});if(e.ok){const{access_token:t,refresh_token:o}=await e.json();return window.localStorage.setItem("access_token",t),window.localStorage.setItem("refresh_token",o),window.localStorage.setItem("is_authenticated","true"),!0}else return window.localStorage.removeItem("access_token"),window.localStorage.removeItem("refresh_token"),window.localStorage.setItem("is_authenticated","false"),!1}function a(e,t){const o=new Date().toLocaleTimeString(),l=`[${o}] ${t}`,n=document.getElementById(e);if(n){n.querySelector(".console-welcome")&&(n.innerHTML="");const s=document.createElement("div");s.className="console-log-line",s.innerHTML=`<span class="console-timestamp">${o}</span> ${t}`,n.appendChild(s),n.scrollTop=n.scrollHeight}}function u(e){const t=document.getElementById("login"),o=document.getElementById("logout"),l=document.getElementById("userinfo"),n=document.getElementById("callapi"),r=document.getElementById("switch");e?(t?.classList.add("hidden"),o?.classList.remove("hidden"),l?.classList.remove("hidden"),n?.classList.remove("hidden")):(t?.classList.remove("hidden"),o?.classList.add("hidden"),l?.classList.add("hidden"),n?.classList.add("hidden")),r?.classList.remove("hidden");const s=document.getElementById("auth-status-3d"),c=document.querySelector(".status-dot"),i=document.querySelector(".status-text");s&&i&&(e?(s.classList.remove("status-offline"),s.classList.add("status-online"),i.textContent="Authenticated"):(s.classList.remove("status-online"),s.classList.add("status-offline"),i.textContent="Not Authenticated")),c&&(e?c.classList.add("online"):c.classList.remove("online"))}window.onload=async()=>{d();let e=!1;try{if(!await f()){a("out","State: not authenticated, please login"),u(!1),window.location.hash.includes("switcher")?location.href="/ids/auth/login":e=!0;return}a("out","Authenticated successfully"),u(!0);var t=setInterval(async()=>{if(!await f()){a("out","State: not authenticated, clearing interval"),clearInterval(t),u(!1);return}},6e4);e=!0}catch(o){a("out","Init error: "+o)}finally{e&&m()}};document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{typeof window.InteractiveEffects<"u"&&window.InteractiveEffects.enhanceLoadingOverlay()},200);const e=document.getElementById("login");e&&(e.onclick=()=>{d(),location.href="/ids/auth/login"});const t=document.getElementById("logout");t&&(t.onclick=()=>{d(),location.href="/ids/auth/logout"});const o=document.getElementById("userinfo");o&&(o.onclick=async()=>{if(!(window.localStorage.getItem("is_authenticated")==="true"&&window.localStorage.getItem("access_token")))return a("out","Not logged in");const i=await fetch("/ids/me",{credentials:"include",headers:{Authorization:"Bearer "+window.localStorage.getItem("access_token")}});a("out","userinfo: "+JSON.stringify(await i.json(),null,2))});const l=document.getElementById("callapi");l&&(l.onclick=async()=>{if(!(window.localStorage.getItem("is_authenticated")==="true"&&window.localStorage.getItem("access_token")))return a("out","Not logged in");const i=await g("/cpds/api/hello",window.localStorage.getItem("access_token"));a("out",`CPDS API [${i.status}]:
${i.body}`)});const n=document.getElementById("switch");n&&(n.onclick=()=>{window.location.href="/aceas/#switcher"});const r=document.getElementById("clear-console");r&&r.addEventListener("click",()=>{const c=document.getElementById("out");c&&(c.innerHTML=`
                    <span class="console-welcome">ðŸ‘¥ Welcome to CPDS Personnel Management Platform</span><br>
                    <span class="console-info">ðŸš€ Government SSO ready for interaction...</span><br>
                    <span class="console-timestamp">[${new Date().toLocaleTimeString()}] Console cleared</span>
                `)});const s=document.getElementById("copy-console");s&&s.addEventListener("click",async()=>{const c=document.getElementById("out");if(c)try{const i=c.textContent||c.innerText;await navigator.clipboard.writeText(i),a("out","Console content copied to clipboard")}catch(i){a("out","Failed to copy console content: "+i.message)}})});window.cpdsAuth={clearConsole:()=>{const e=document.getElementById("out");e&&(e.innerHTML=`
                <span class="console-welcome">ðŸ‘¥ Welcome to CPDS Personnel Management Platform</span><br>
                <span class="console-info">ðŸš€ Government SSO ready for interaction...</span><br>
                <span class="console-timestamp">[${new Date().toLocaleTimeString()}] Console cleared</span>
            `)}};document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth"})})}),setTimeout(()=>{typeof window.InteractiveEffects<"u"&&window.InteractiveEffects.enhanceLoadingOverlay()},200),window.testEnhancedLoading=function(){d("Testing Enhanced 3D Loading..."),setTimeout(()=>{m()},4e3)},window.test3DScrollEffects=function(){["scroll-fade-in","scroll-slide-left","scroll-slide-right","scroll-scale-up","scroll-3d-flip","scroll-3d-rotate","scroll-3d-bounce","scroll-3d-fold","scroll-3d-depth","scroll-3d-parallax","scroll-3d-perspective"].forEach(t=>{const o=document.querySelectorAll(`.${t}`)})},window.testPerspectiveScaling=function(){document.querySelectorAll(".scroll-3d-perspective").forEach((t,o)=>{const l=t.getBoundingClientRect(),n=window.innerWidth/2,r=window.innerHeight/2,s=l.left+l.width/2,c=l.top+l.height/2})},setTimeout(()=>{m()},2500)});
//# sourceMappingURL=index-CVX92W0w-mgz62uu4.js.map
